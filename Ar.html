<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agregar Reseña - La Cueva</title>
    <link rel="stylesheet" href="lvcStyle.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

    <header class="d-flex justify-content-between align-items-center p-3">
        <div class="logo">
            <a href="cueva.html"><img src="logo-placeholder.png" alt="Logo del sitio web" class="logo-img"></a>
        </div>
        <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="text" class="barra-busqueda" placeholder="Buscar reseñas...">
        </div>
        <div class="perfil-container">
            <a href="perfil.html" class="perfil-icono" title="Mi Perfil"><i class="fas fa-user-circle"></i></a>
        </div>
    </header>

    <nav>
        <a href="cueva.html#RJ"><button class="boton">JUEGOS</button></a>
        <a href="cueva.html#RP"><button class="boton">PELICULAS</button></a>
        <a href="cueva.html#RS"><button class="boton">SERIES</button></a>
        <a href="VerResenas.html"><button class="boton">VER RESEÑAS</button></a> 
        <a href="Registro.html"><button class="boton">REGISTRARSE</button></a>
        <a href="Ar.html"><button class="boton boton-cta">AGREGAR RESEÑA</button></a>
    </nav>

    <main class="review-form-container">
        <h1>Agregar una Reseña</h1>
        <form id="formResena">
            <label for="titulo">Título de la obra</label>
            <input type="text" id="titulo" required />

            <label for="categoria">Categoría</label>
            <select id="categoria" required>
                <option value="Juego">Juego</option>
                <option value="Película">Película</option>
                <option value="Serie">Serie</option>
            </select>

            <label for="genero">Género</label>
            <input type="text" id="genero" required placeholder="Ej: Aventura, FPS, Suspenso..."/>

            <label for="reseña">Reseña</label>
            <textarea id="reseña" rows="5" required></textarea>
            
            <label for="imagen">URL de la Imagen (Póster/Carátula)</label>
            <input type="url" id="imagen" placeholder="https://ejemplo.com/imagen.jpg" required/>

            <label for="autor">Nombre o seudónimo</label>
            <input type="text" id="autor" placeholder="Anónimo" />

            <button type="submit">Guardar Reseña</button>
        </form>
    </main>

    <footer class="site-footer">
        <div class="redes-sociales">
            <a href="#" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" target="_blank" title="Spotify"><i class="fab fa-spotify"></i></a>
            <a href="#" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a>
        </div>
        <p class="copyright">&copy; 2025 La Cueva. Todos los derechos reservados.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('formResena');

            form.addEventListener('submit', (e) => {
                e.preventDefault();

                const nuevaResena = {
                    titulo: document.getElementById('titulo').value.trim(),
                    categoria: document.getElementById('categoria').value,
                    genero: document.getElementById('genero').value.trim(),
                    reseña: document.getElementById('reseña').value.trim(),
                    imagen: document.getElementById('imagen').value.trim(),
                    autor: document.getElementById('autor').value.trim() || 'Anónimo',
                    id: Date.now()
                };

                const reseñasGuardadas = JSON.parse(localStorage.getItem('reseñas')) || [];
                reseñasGuardadas.push(nuevaResena);
                localStorage.setItem('reseñas', JSON.stringify(reseñasGuardadas));

                alert('¡Reseña guardada con éxito!');
                window.location.href = 'VerResenas.html';
            });
        });
    </script>
</body>
</html>